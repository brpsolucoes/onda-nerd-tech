{% extends "base.html" %}

{% block title %}Dashboard - {{ active_company.name }}{% endblock %}

{% block content %}
<div class="container my-5">
    <h1 class="h3 mb-4">
        Bem-vindo(a) √† √Årea Administrativa da <strong>{{ active_company.name }}</strong>
    </h1>

    <div class="alert alert-info" role="alert">
        üöÄ <strong>Empresa Ativa:</strong> Todos os dados abaixo e em outras p√°ginas s√£o filtrados para <strong>{{ active_company.name }}</strong>.
    </div>

    <h2 class="h5 mb-3 mt-4">Resumo da Empresa</h2>
    <div class="row">
        <div class="col-md-4 mb-4">
            <div class="card text-dark 
                {% if balance >= 0 %}bg-success{% else %}bg-danger{% endif %} 
                shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">Balan√ßo do m√™s</h5>
                    <p class="card-text fs-2">R$ {{ balance|floatformat:2 }}</p>
                    <small>Soma de Entradas - Sa√≠das</small>
                </div>
            </div>
        </div>
        
        <div class="col-md-4 mb-4">
            <div class="card bg-primary text-dark shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">Transa√ß√µes Cadastradas este m√™s</h5>
                    <p class="card-text fs-2">{{ total_transactions }}</p>
                    <small>Total de registros de Entrada/Sa√≠da.</small>
                </div>
            </div>
        </div>
        
        <div class="col-md-4 mb-4">
            <div class="card bg-info text-dark shadow-sm h-100">
                <div class="card-body">
                    <h5 class="card-title">Fornecedores Cadastrados</h5>
                    <p class="card-text fs-2">{{ total_suppliers }}</p>
                    <small>Total de fornecedores globais.</small>
                </div>
            </div>
        </div>
        
    </div>
    
    <h2 class="h5 mb-3 mt-4">A√ß√µes e M√≥dulos Dispon√≠veis</h2>
    <div class="row">
        
        <div class="col-md-3 mb-4">
            <div class="card shadow-sm h-100">
                <div class="card-body">
                    <h5 class="card-title">üí∞ Financeiro</h5>
                    <p class="card-text">Gerencie todas as entradas, sa√≠das e fluxo de caixa da empresa.</p>
                    <a href="{% url 'finance:list' %}" class="btn btn-outline-primary">Acessar Transa√ß√µes</a>
                </div>
            </div>
        </div>
        
        <div class="col-md-3 mb-4">
            <div class="card shadow-sm h-100">
                <div class="card-body">
                    <h5 class="card-title">üì¶ Produtos</h5>
                    <p class="card-text">Gerencie o cadastro de todos os produtos e suas especifica√ß√µes.</p>
                    <a href="{% url 'products:list' %}" class="btn btn-outline-primary">Acessar Produtos</a>
                </div>
            </div>
        </div>
        
        <div class="col-md-3 mb-4">
            <div class="card shadow-sm h-100">
                <div class="card-body">
                    <h5 class="card-title">üë• Fornecedores</h5>
                    <p class="card-text">Cadastre e visualize os fornecedores, acess√≠veis por todas as empresas.</p>
                    <a href="{% url 'suppliers:list' %}" class="btn btn-outline-primary">Acessar Fornecedores</a>
                </div>
            </div>
        </div>
        
    </div>
</div>
{% endblock content %}